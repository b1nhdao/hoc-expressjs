extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug
include ../../mixins/form-change-multi.pug
include ../../mixins/alert.pug
include ../../mixins/sort.pug

block main 
    +alert-success(5000)

    h1 Danh muc san pham 

    .card.mb-3
        .card-header Bo loc va tim kiem 
        .card-body 
            .row 
                .col-6.mb-3 
                    //- +filterStatus()
                .col-6.mb-3 
                    +search()

    .card.mb-3 
        .card-header Sap xep
        +sortCategory()

    .card.mb-3.mt-3
        .card-header Danh sach 
            .row 
                .col-8
                
                .col-4 
                    a(
                        href=`${prefixAdmin}/products-category/create`
                        class='btn btn-outline-success right mb-3'
                    ) + Them moi
    

            table(class = "table table-hover table-sm"
                            checkbox-multi)
                        thead 
                            tr 
                                th 
                                    input(type="checkbox" name="checkall")
                                th STT
                                th Hinh anh
                                th Tieu de
                                th Vi tri
                                th Trang thai
                                th Hanh dong

                        tbody
                            each item, index in records 
                                tr 
                                    td 
                                        input(type="checkbox" name="id" value=item.id)
                                    td #{index + 1} 
                                    td  
                                        img(src = item.thumbnail, alt = item.title width='100px' height='auto')
                                    td #{item.title}
                                    td 
                                        input(
                                            type="number"
                                            value=item.position 
                                            style="width: 60px"
                                            min="1"
                                            name="position"
                                        )
                                    td 
                                        if (item.status == 'active')
                                            a(href="javascript:;"
                                                data-status="active"
                                                button-change-status 
                                                data-id= item.id
                                                class='badge badge-success') Hoat dong 
                                        else
                                            a(href="javascript:;"
                                                data-status="inactive"
                                                button-change-status
                                                data-id = item.id 
                                                class='badge badge-danger') Dung hoat dong   
                                    td 
                                        a(href=`${prefixAdmin}/products/detail/${item.id}`
                                            class="btn btn-secondary btn-sm mr-1") Chi tiet 
                                        a(href=`${prefixAdmin}/products/edit/${item.id}`)
                                            button( class='btn btn-warning btn-sm') Sua
                                        button( class='btn btn-danger btn-sm ml-1'
                                                data-id = item.id
                                                button-delete) Xoa

    +pagination(pagination)
